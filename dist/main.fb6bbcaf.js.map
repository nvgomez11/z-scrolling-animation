{"version":3,"sources":["js/main.js"],"names":["$","document","ready","console","log","perspective","sectionDiference","each","i","sectionZvalue","toString","css","startingTriggerTop","attr","sections","querySelectorAll","sectionsLength","length","height","frames","framesLength","arrayFrames","Array","prototype","slice","call","triggers","originalZValues","j","push","opacityValues","gsap","registerPlugin","ScrollTrigger","currentTrigger","initialZvalues","finalZvalues","w","tl","timeline","scrollTrigger","trigger","start","end","scrub","toggleActions","markers","fontSize","initialValue","finalValue","initialOpacity","undefined","finalOpacity","fromTo","z","duration","opacity","immediateRender","progress","st","create","pin","startColor","endColor"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..","sourcesContent":["$( document ).ready(function() {\n    console.log(\"AFTER READY\");\n\n\n    var perspective = '500px'\n    var sectionDiference = 500 \n    $('.section').each(function(i) {\n        var sectionZvalue = (-i * sectionDiference).toString() + 'px' \n        if(i == 0){\n            $(this).css('transform', 'perspective('+ perspective +') translateZ(0px)');\n            $(this).css('opacity', '1');\n        }else{\n            $(this).css('transform', 'perspective('+ perspective +') translateZ('+ sectionZvalue+')');\n            $(this).css('opacity', '0');\n        }\n    });\n\n    //TRIGGER HEIGHT DINAMICALLY\n    var startingTriggerTop = 100\n    $('.trigger').each(function(i) {\n        if(i==0){\n            $(this).css('top', '0vh');\n        }else{\n            $(this).css('top', (startingTriggerTop * (i) ) + 'vh');\n        }\n    });\n\n\n    //SET TRIGGER ID DINAMICALLY\n    $('.trigger').each(function(i) {\n        $(this).attr('id', 'trigger'+(i.toString()));\n    });\n\n\n    //SET INDICATOR HREF DINAMICALLY\n    $('.indicator').each(function(i) {\n        $(this).attr('href', '#trigger'+(i.toString()));\n    });\n\n\n});\n\n\n//SET TRIGGER-PIN HEIGHT\nvar sections = document.querySelectorAll('.section');\nvar sectionsLength = ((sections.length * 100)-80 ).toString() + 'vh';\nconsole.log(\"sections length\", sectionsLength)\n$(\".trigger-pin\").height(sectionsLength);\n\n\n//SET PERSPECTIVE AND Z VALUE OF EACH SECTION\nconsole.log(\"GOOGOGOGOGOG\");\n\n//animation\nvar frames = document.querySelectorAll('.section');\nvar framesLength = frames.length\nvar arrayFrames = Array.prototype.slice.call(frames);\n\nconsole.log(\"array frames\", arrayFrames);\n\n//Fill Triggers \nvar triggers = document.querySelectorAll(\".trigger\");\nconsole.log(\"Triggers are\", triggers)\n\n\n//Fill Z Values\nvar originalZValues = [];\nfor(var j=0; j<framesLength; j++){\n    if (j==0){\n        originalZValues.push(0)\n    }else{\n        originalZValues.push(500 * -j)\n    }\n}\nconsole.log(\"Z values are\", originalZValues)\n\n\nvar opacityValues = [0, 1];\nconsole.log(\"opacity values are\", opacityValues);\n\n\n\ngsap.registerPlugin(ScrollTrigger);\n\nfor(var i = 0; i < triggers.length -1; i++){\n    var currentTrigger = triggers[i];\n    var initialZvalues = []\n    var finalZvalues = []\n    //fill initial z values\n    for(var w=0; w<originalZValues.length; w++){\n        initialZvalues.push( originalZValues[w] + (500 * i ));\n    }\n    console.log(\"initial z values\", initialZvalues);\n    //fill final z values\n    for(var w=0; w<originalZValues.length; w++){\n        finalZvalues.push( originalZValues[w] + (500 * (i + 1)));\n    }\n    console.log(\"final z values\", finalZvalues);\n\n    var tl = gsap.timeline({\n        scrollTrigger: {\n            trigger: currentTrigger,\n            start: 'top 10px',\n            end: 'bottom 0px',\n            scrub: 2,\n            // onEnter onLeave onEnterBack onLeaveBack\n            toggleActions: \"play none reverse none\",\n            markers: {\n                fontSize: '2rem'\n            }\n        }\n    });\n\n    for(var j = 0; j < originalZValues.length; j++){\n\n        var initialValue = initialZvalues[j];\n        var finalValue = finalZvalues[j];\n\n        var initialOpacity = undefined; \n        var finalOpacity = undefined;\n\n        if (finalValue === 500){\n            initialOpacity = 1\n            finalOpacity = 0\n        }\n        if(finalValue === 0){\n            initialOpacity = 0\n            finalOpacity = 1\n        }\n    \n        tl.fromTo(arrayFrames[j], {\n            z: initialValue,\n            //immediateRender: false,\n            duration: 3,\n            opacity: initialOpacity\n        }, {\n            z: finalValue,\n            immediateRender: false,\n            duration: 3,\n            opacity: finalOpacity\n        }, 0);\n        console.log(\"Creado asi ----\")\n        console.log(\"Frame\", arrayFrames[j]);\n        console.log(\"initial Z value\", initialValue)\n        console.log(\"final  Z value\", finalValue)\n        console.log(\"opacidad inicial\", initialOpacity);\n        console.log(\"opacidad final\", finalOpacity);\n        console.log(\"Trigger\", currentTrigger);\n        console.log(\"end -----\")        \n    }\n    console.log(tl.progress());\n    console.log(\"NEXT TRIGGER ---------------\");\n}\n\n\n\n\n//Frame container height dinamically set depending on the amount of frames\n// var framesContainerHeight = (100 * framesLength).toString() + 'vh';\n// $('.frame').height(framesContainerHeight);\n\n\nlet st = ScrollTrigger.create({\n    trigger: \".trigger-pin\",\n    pin: \".frame\",\n    start: \"top 5%\",\n    end: \"bottom 1%\",\n    markers: {\n        startColor: \"orange\", endColor: \"orange\", fontSize: \"16px\"\n    }\n});\n\n\n\n\n\n\n\n\n\n\n\n//HARDCODED WORKING\n// gsap.registerPlugin(ScrollTrigger);\n\n// var tl = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \".trigger1\",\n//         start: 'top 5.5%',\n//         end: 'bottom 5.5%',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// }, 0);\n\n// tl.fromTo(\".frame__1\", {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n//     }, {\n//         z: 500,\n//         duration: 3,\n//         opacity: 0\n// },0);\n\n// tl.fromTo(\".frame__2\", {\n//         z: -500,\n//         duration: 1,\n//         opacity: 0\n//     }, {\n//         z: 0,\n//         duration: 3,\n//         opacity: 1\n// },0);\n\n// tl.fromTo(\".frame__3\", {\n//         z: -1000,\n//         duration: 1,\n//         opacity: undefined\n//     }, {\n//         z: -500,\n//         duration: 1,\n//         opacity: undefined\n// },0);\n\n// ///////////////////////////////////\n\n// var tl2 = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \".trigger2\",\n//         start: 'top 5.5%',\n//         end: 'bottom 5.5%',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// }, 0);\n\n// tl2.fromTo(\".frame__1\", {\n//         z: 500,\n//         duration: 1,\n//         opacity: undefined\n//     }, {\n//         z: 1000,\n//         duration: 1,\n//         opacity: undefined\n// },0);\n\n// tl2.fromTo(\".frame__2\", {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n//     }, {\n//         z: 500,\n//         duration: 3,\n//         opacity: 0\n// },0);\n\n// tl2.fromTo(\".frame__3\", {\n//         z: -500,\n//         duration: 1,\n//         opacity: 0\n//     }, {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n// },0);\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}