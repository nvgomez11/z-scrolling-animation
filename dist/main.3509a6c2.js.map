{"version":3,"sources":["js/main.js"],"names":["perspective","sectionDiference","$","each","i","sectionZvalue","toString","css","frames","document","querySelectorAll","framesLength","length","arrayFrames","Array","prototype","slice","call","console","log","triggers","originalZValues","j","push","opacityValues","gsap","registerPlugin","ScrollTrigger","currentTrigger","initialZvalues","finalZvalues","w","tl","timeline","scrollTrigger","trigger","start","end","scrub","toggleActions","markers","fontSize","initialValue","finalValue","initialOpacity","undefined","finalOpacity","fromTo","immediateRender","z","duration","opacity","x","progress","startingTriggerTop","attr","framesContainerHeight","height","st","create","pin"],"mappings":";AACA,IAAIA,EAAc,QACdC,EAAmB,IACvBC,EAAE,YAAYC,KAAK,SAASC,GACpBC,IAAAA,IAAkBD,EAAIH,GAAkBK,WAAa,KACjD,GAALF,GACCF,EAAE,MAAMK,IAAI,YAAa,eAAgBP,EAAa,qBACtDE,EAAE,MAAMK,IAAI,UAAW,OAEvBL,EAAE,MAAMK,IAAI,YAAa,eAAgBP,EAAa,gBAAiBK,EAAc,KACrFH,EAAE,MAAMK,IAAI,UAAW,QAM/B,IAAIC,EAASC,SAASC,iBAAiB,YACnCC,EAAeH,EAAOI,OACtBC,EAAcC,MAAMC,UAAUC,MAAMC,KAAKT,GAE7CU,QAAQC,IAAI,eAAgBN,GAO5B,IALA,IAAIO,EAAW,CAAC,YAAa,YAAa,aAItCC,EAAkB,GACdC,EAAE,EAAGA,EAAEX,EAAcW,IAClB,GAAHA,EACAD,EAAgBE,KAAK,GAErBF,EAAgBE,KAAK,KAAOD,GAGpCJ,QAAQC,IAAI,eAAgBE,GAE5B,IAAIG,EAAgB,CAAC,EAAG,GAGxBC,KAAKC,eAAeC,eAGpB,IAAI,IAAIvB,EAAI,EAAGA,EAAIgB,EAASR,OAAQ,EAAGR,IAAI,CAKnC,IAJAwB,IAAAA,EAAiBR,EAAShB,GAC1ByB,EAAiB,GACjBC,EAAe,GAEXC,EAAE,EAAGA,EAAEV,EAAgBT,OAAQmB,IACnCF,EAAeN,KAAMF,EAAgBU,GAAM,IAAM3B,GAErDc,QAAQC,IAAI,mBAAoBU,GAE5B,IAAIE,EAAE,EAAGA,EAAEV,EAAgBT,OAAQmB,IACnCD,EAAaP,KAAMF,EAAgBU,GAAM,KAAO3B,EAAI,IAExDc,QAAQC,IAAI,iBAAkBW,GAE1BE,IAAAA,EAAKP,KAAKQ,SAAS,CACnBC,cAAe,CACXC,QAASP,EACTQ,MAAO,WACPC,IAAK,aACLC,MAAO,EAEPC,cAAe,yBACfC,QAAS,CACLC,SAAU,WAKlB,IAAInB,EAAI,EAAGA,EAAID,EAAgBT,OAAQU,IAAI,CAEvCoB,IAAAA,EAAeb,EAAeP,GAC9BqB,EAAab,EAAaR,GAE1BsB,OAAiBC,EACjBC,OAAeD,EAEA,MAAfF,IACAC,EAAiB,EACjBE,EAAe,GAED,IAAfH,IACCC,EAAiB,EACjBE,EAAe,GAGnBd,EAAGe,OAAOlC,EAAYS,GAAI,CACtB0B,iBAAiB,EACjBC,EAAGP,EAEHQ,SAAU,EACVC,QAASP,GACV,CACCI,iBAAiB,EACjBC,EAAGN,EAEHS,EAAG,EACHF,SAAU,EACVC,QAASL,GACV,GACH5B,QAAQC,IAAI,mBACZD,QAAQC,IAAI,QAASN,EAAYS,IACjCJ,QAAQC,IAAI,kBAAmBuB,GAC/BxB,QAAQC,IAAI,iBAAkBwB,GAC9BzB,QAAQC,IAAI,mBAAoByB,GAChC1B,QAAQC,IAAI,iBAAkB2B,GAC9B5B,QAAQC,IAAI,UAAWS,GACvBV,QAAQC,IAAI,aAEhBD,QAAQC,IAAIa,EAAGqB,YACfnC,QAAQC,IAAI,gCAQhB,IAAImC,EAAqB,IACzBpD,EAAE,YAAYC,KAAK,SAASC,GAClB,GAAHA,EACCF,EAAE,MAAMK,IAAI,MAAO,OAEnBL,EAAE,MAAMK,IAAI,MAAQ+C,EAAsBlD,EAAO,QAMzDF,EAAE,YAAYC,KAAK,SAASC,GACxBF,EAAE,MAAMqD,KAAK,KAAM,UAAWnD,EAAEE,cAKpCJ,EAAE,cAAcC,KAAK,SAASC,GAC1BF,EAAE,MAAMqD,KAAK,OAAQ,WAAYnD,EAAEE,cAKvC,IAAIkD,GAAyB,IAAM7C,EAAa,GAAGL,WAAa,KAChEJ,EAAE,UAAUuD,OAAOD,GAKnB,IAAIE,EAAK/B,cAAcgC,OAAO,CAC1BxB,QAAS,eACTyB,IAAK,SACLxB,MAAO,SACPC,IAAK","file":"main.3509a6c2.js","sourceRoot":"..","sourcesContent":["//SET PERSPECTIVE AND Z VALUE OF EACH SECTION\nvar perspective = '500px'\nvar sectionDiference = 500 \n$('.section').each(function(i) {\n    var sectionZvalue = (-i * sectionDiference).toString() + 'px' \n    if(i == 0){\n        $(this).css('transform', 'perspective('+ perspective +') translateZ(0px)');\n        $(this).css('opacity', '1');\n    }else{\n        $(this).css('transform', 'perspective('+ perspective +') translateZ('+ sectionZvalue+')');\n        $(this).css('opacity', '0');\n    }\n});\n\n\n//animation\nvar frames = document.querySelectorAll('.section');\nvar framesLength = frames.length\nvar arrayFrames = Array.prototype.slice.call(frames);\n\nconsole.log(\"array frames\", arrayFrames);\n\nvar triggers = [\".trigger1\", \".trigger2\", \".trigger3\"]\n\n\n//Fill Z Values\nvar originalZValues = [];\nfor(var j=0; j<framesLength; j++){\n    if (j==0){\n        originalZValues.push(0)\n    }else{\n        originalZValues.push(500 * -j)\n    }\n}\nconsole.log(\"Z values are\", originalZValues)\n\nvar opacityValues = [0, 1]\n\n\ngsap.registerPlugin(ScrollTrigger);\n\n\nfor(var i = 0; i < triggers.length -1; i++){\n    var currentTrigger = triggers[i];\n    var initialZvalues = []\n    var finalZvalues = []\n    //fill initial z values\n    for(var w=0; w<originalZValues.length; w++){\n        initialZvalues.push( originalZValues[w] + (500 * i ));\n    }\n    console.log(\"initial z values\", initialZvalues);\n    //fill final z values\n    for(var w=0; w<originalZValues.length; w++){\n        finalZvalues.push( originalZValues[w] + (500 * (i + 1)));\n    }\n    console.log(\"final z values\", finalZvalues);\n\n    var tl = gsap.timeline({\n        scrollTrigger: {\n            trigger: currentTrigger,\n            start: 'top 10px',\n            end: 'bottom 0px',\n            scrub: 2,\n            // onEnter onLeave onEnterBack onLeaveBack\n            toggleActions: \"play none reverse none\",\n            markers: {\n                fontSize: '2rem'\n            }\n        }\n    });\n\n    for(var j = 0; j < originalZValues.length; j++){\n\n        var initialValue = initialZvalues[j];\n        var finalValue = finalZvalues[j];\n\n        var initialOpacity = undefined; \n        var finalOpacity = undefined;\n\n        if (finalValue === 500){\n            initialOpacity = 1\n            finalOpacity = 0\n        }\n        if(finalValue === 0){\n            initialOpacity = 0\n            finalOpacity = 1\n        }\n    \n        tl.fromTo(arrayFrames[j], {\n            immediateRender: false,\n            z: initialValue,\n            //transform: 'translate3d(40%, 50%, '+initialValue+'px)',\n            duration: 3,\n            opacity: initialOpacity\n        }, {\n            immediateRender: false,\n            z: finalValue,\n            //transform: 'translate3d(40%, 50%, '+finalValue+'px)',\n            x: 0,\n            duration: 3,\n            opacity: finalOpacity\n        }, 0);\n        console.log(\"Creado asi ----\")\n        console.log(\"Frame\", arrayFrames[j]);\n        console.log(\"initial Z value\", initialValue)\n        console.log(\"final  Z value\", finalValue)\n        console.log(\"opacidad inicial\", initialOpacity);\n        console.log(\"opacidad final\", finalOpacity);\n        console.log(\"Trigger\", currentTrigger);\n        console.log(\"end -----\")        \n    }\n    console.log(tl.progress());\n    console.log(\"NEXT TRIGGER ---------------\");\n}\n\n\n\n\n\n//TRIGGER HEIGHT DINAMICALLY\nvar startingTriggerTop = 100\n$('.trigger').each(function(i) {\n    if(i==0){\n        $(this).css('top', '0vh');\n    }else{\n        $(this).css('top', (startingTriggerTop * (i) ) + 'vh');\n    }\n});\n\n\n//SET TRIGGER ID DINAMICALLY\n$('.trigger').each(function(i) {\n    $(this).attr('id', 'trigger'+(i.toString()));\n});\n\n\n//SET INDICATOR HREF DINAMICALLY\n$('.indicator').each(function(i) {\n    $(this).attr('href', '#trigger'+(i.toString()));\n});\n\n\n//Frame container height dinamically set depending on the amount of frames\nvar framesContainerHeight = (100 * framesLength-1).toString() + 'vh';\n$('.frame').height(framesContainerHeight);\n\n\n\n\nlet st = ScrollTrigger.create({\n    trigger: \".trigger-pin\",\n    pin: \".frame\",\n    start: \"top 1%\",\n    end: \"bottom 100%\"\n});\n\n// let st1 = ScrollTrigger.create({\n//     trigger: \".trigger-pin\",\n//     pin: \".frame2\",\n//     start: \"top 1%\",\n//     end: \"bottom 100%\"\n// });\n\n// console.log(st.pin);\n\n\n\n\n\n\n\n\n\n//HARDCODED WORKING\n// gsap.registerPlugin(ScrollTrigger);\n\n// var tl = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \".trigger1\",\n//         start: 'top 5.5%',\n//         end: 'bottom 5.5%',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// }, 0);\n\n// tl.fromTo(\".frame__1\", {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n//     }, {\n//         z: 500,\n//         duration: 3,\n//         opacity: 0\n// },0);\n\n// tl.fromTo(\".frame__2\", {\n//         z: -500,\n//         duration: 1,\n//         opacity: 0\n//     }, {\n//         z: 0,\n//         duration: 3,\n//         opacity: 1\n// },0);\n\n// tl.fromTo(\".frame__3\", {\n//         z: -1000,\n//         duration: 1,\n//         opacity: undefined\n//     }, {\n//         z: -500,\n//         duration: 1,\n//         opacity: undefined\n// },0);\n\n// ///////////////////////////////////\n\n// var tl2 = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \".trigger2\",\n//         start: 'top 5.5%',\n//         end: 'bottom 5.5%',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// }, 0);\n\n// tl2.fromTo(\".frame__1\", {\n//         z: 500,\n//         duration: 1,\n//         opacity: undefined\n//     }, {\n//         z: 1000,\n//         duration: 1,\n//         opacity: undefined\n// },0);\n\n// tl2.fromTo(\".frame__2\", {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n//     }, {\n//         z: 500,\n//         duration: 3,\n//         opacity: 0\n// },0);\n\n// tl2.fromTo(\".frame__3\", {\n//         z: -500,\n//         duration: 1,\n//         opacity: 0\n//     }, {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n// },0);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// var tl = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \"trigger1\",\n//         start: 'top 10px',\n//         end: 'bottom 0px',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// });\n\n// gsap.utils.toArray(\".section\").forEach( (section, i) => {\n//     tl.fromTo(section, {\n//         z: originalZValues[i],\n//         duration: 3,\n//         opacity: 1\n//     }, {\n//         z: originalZValues[i] + 500,\n//         duration: 3,\n//         opacity: 0\n//     }, 0);\n// })\n\n\n// gsap.utils.toArray(\"trigger\").forEach( (trigger, j) =>{\n//     var initialZvalues = []\n//     var finalZvalues = []\n//     //fill initial z values\n//     for(var w=0; w<originalZValues.length; w++){\n//         initialZvalues.push( originalZValues[w] + (500 * i ));\n//     }\n//     console.log(\"initial z values\", initialZvalues);\n//     //fill final z values\n//     for(var w=0; w<originalZValues.length; w++){\n//         finalZvalues.push( originalZValues[w] + (500 * (i + 1)));\n//     }\n//     console.log(\"final z values\", finalZvalues);\n\n//     var tl = gsap.timeline({\n//         scrollTrigger: {\n//             trigger: trigger,\n//             start: 'top 10px',\n//             end: 'bottom 0px',\n//             scrub: 2,\n//             // onEnter onLeave onEnterBack onLeaveBack\n//             toggleActions: \"play none reverse none\",\n//             markers: {\n//                 fontSize: '2rem'\n//             }\n//         }\n//     });\n\n//     gsap.utils.toArray(\".section\").forEach( (section, i) => {\n//         tl.fromTo(section, {\n//             z: originalZValues[i],\n//             duration: 3,\n//             opacity: 1\n//         }, {\n//             z: originalZValues[i] + 500,\n//             x: 0,\n//             duration: 3,\n//             opacity: 0\n//         }, 0);\n//     })\n// })"]}