{"version":3,"sources":["js/main.js"],"names":["$","document","ready","console","log","each","i","sectionZvalue","toString","css","attr","sections","querySelectorAll","sectionsLength","length","height","frames","framesLength","arrayFrames","Array","prototype","slice","call","triggers","originalZValues","j","push","opacityValues","gsap","registerPlugin","ScrollTrigger","currentTrigger","initialZvalues","finalZvalues","w","tl","timeline","scrollTrigger","trigger","start","end","scrub","toggleActions","markers","fontSize","initialValue","finalValue","initialOpacity","undefined","finalOpacity","fromTo","z","duration","opacity","immediateRender","progress","st","create","pin","startColor","endColor"],"mappings":"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","file":"main.4712f781.js","sourceRoot":"..","sourcesContent":["$( document ).ready(function() {\n    console.log(\"AFTER READY\");\n\n\n    var perspective = '500px'\n    var sectionDiference = 500 \n    $('.section').each(function(i) {\n        var sectionZvalue = (-i * sectionDiference).toString() + 'px' \n        if(i == 0){\n            $(this).css('transform', 'perspective('+ perspective +') translateZ(0px)');\n            $(this).css('opacity', '1');\n        }else{\n            $(this).css('transform', 'perspective('+ perspective +') translateZ('+ sectionZvalue+')');\n            $(this).css('opacity', '0');\n        }\n    });\n\n    //TRIGGER HEIGHT DINAMICALLY\n    var startingTriggerTop = 100\n    $('.trigger').each(function(i) {\n        if(i==0){\n            $(this).css('top', '0vh');\n        }else{\n            $(this).css('top', (startingTriggerTop * (i) ) + 'vh');\n        }\n    });\n\n\n    //SET TRIGGER ID DINAMICALLY\n    $('.trigger').each(function(i) {\n        $(this).attr('id', 'trigger'+(i.toString()));\n    });\n\n\n    //SET INDICATOR HREF DINAMICALLY\n    $('.indicator').each(function(i) {\n        $(this).attr('href', '#trigger'+(i.toString()));\n    });\n\n\n});\n\n\n//SET TRIGGER-PIN HEIGHT\nvar sections = document.querySelectorAll('.section');\nvar sectionsLength = ((sections.length * 100)-80 ).toString() + 'vh';\nconsole.log(\"sections length\", sectionsLength)\n$(\".trigger-pin\").height(sectionsLength);\n\n\n//SET PERSPECTIVE AND Z VALUE OF EACH SECTION\nconsole.log(\"GOOGOGOGOGOG\");\n\n//animation\nvar frames = document.querySelectorAll('.section');\nvar framesLength = frames.length\nvar arrayFrames = Array.prototype.slice.call(frames);\n\nconsole.log(\"array frames\", arrayFrames);\n\n//Fill Triggers \nvar triggers = document.querySelectorAll(\".trigger\");\nconsole.log(\"Triggers are\", triggers)\n\n\n//Fill Z Values\nvar originalZValues = [];\nfor(var j=0; j<framesLength; j++){\n    if (j==0){\n        originalZValues.push(0)\n    }else{\n        originalZValues.push(500 * -j)\n    }\n}\nconsole.log(\"Z values are\", originalZValues)\n\n\nvar opacityValues = [0, 1];\nconsole.log(\"opacity values are\", opacityValues);\n\n\n\ngsap.registerPlugin(ScrollTrigger);\n\nfor(var i = 0; i < triggers.length -1; i++){\n    var currentTrigger = triggers[i];\n    var initialZvalues = []\n    var finalZvalues = []\n    //fill initial z values\n    for(var w=0; w<originalZValues.length; w++){\n        initialZvalues.push( originalZValues[w] + (500 * i ));\n    }\n    console.log(\"initial z values\", initialZvalues);\n    //fill final z values\n    for(var w=0; w<originalZValues.length; w++){\n        finalZvalues.push( originalZValues[w] + (500 * (i + 1)));\n    }\n    console.log(\"final z values\", finalZvalues);\n\n    var tl = gsap.timeline({\n        scrollTrigger: {\n            trigger: currentTrigger,\n            start: 'top 10px',\n            end: 'bottom 0px',\n            scrub: 2,\n            // onEnter onLeave onEnterBack onLeaveBack\n            toggleActions: \"play none reverse none\",\n            markers: {\n                fontSize: '2rem'\n            }\n        }\n    });\n\n    for(var j = 0; j < originalZValues.length; j++){\n\n        var initialValue = initialZvalues[j];\n        var finalValue = finalZvalues[j];\n\n        var initialOpacity = undefined; \n        var finalOpacity = undefined;\n\n        if (finalValue === 500){\n            initialOpacity = 1\n            finalOpacity = 0\n        }\n        if(finalValue === 0){\n            initialOpacity = 0\n            finalOpacity = 1\n        }\n    \n        tl.fromTo(arrayFrames[j], {\n            z: initialValue,\n            //immediateRender: false,\n            duration: 3,\n            opacity: initialOpacity\n        }, {\n            z: finalValue,\n            immediateRender: false,\n            duration: 3,\n            opacity: finalOpacity\n        }, 0);\n        console.log(\"Creado asi ----\")\n        console.log(\"Frame\", arrayFrames[j]);\n        console.log(\"initial Z value\", initialValue)\n        console.log(\"final  Z value\", finalValue)\n        console.log(\"opacidad inicial\", initialOpacity);\n        console.log(\"opacidad final\", finalOpacity);\n        console.log(\"Trigger\", currentTrigger);\n        console.log(\"end -----\")        \n    }\n    console.log(tl.progress());\n    console.log(\"NEXT TRIGGER ---------------\");\n}\n\n\n\n\n//Frame container height dinamically set depending on the amount of frames\n// var framesContainerHeight = (100 * framesLength).toString() + 'vh';\n// $('.frame').height(framesContainerHeight);\n\n\nlet st = ScrollTrigger.create({\n    trigger: \".trigger-pin\",\n    pin: \".frame\",\n    start: \"top 5%\",\n    end: \"bottom 1%\",\n    markers: {\n        startColor: \"orange\", endColor: \"orange\", fontSize: \"16px\"\n    }\n});\n\n\n\n\n\n\n\n\n\n\n\n//HARDCODED WORKING\n// gsap.registerPlugin(ScrollTrigger);\n\n// var tl = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \".trigger1\",\n//         start: 'top 5.5%',\n//         end: 'bottom 5.5%',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// }, 0);\n\n// tl.fromTo(\".frame__1\", {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n//     }, {\n//         z: 500,\n//         duration: 3,\n//         opacity: 0\n// },0);\n\n// tl.fromTo(\".frame__2\", {\n//         z: -500,\n//         duration: 1,\n//         opacity: 0\n//     }, {\n//         z: 0,\n//         duration: 3,\n//         opacity: 1\n// },0);\n\n// tl.fromTo(\".frame__3\", {\n//         z: -1000,\n//         duration: 1,\n//         opacity: undefined\n//     }, {\n//         z: -500,\n//         duration: 1,\n//         opacity: undefined\n// },0);\n\n// ///////////////////////////////////\n\n// var tl2 = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \".trigger2\",\n//         start: 'top 5.5%',\n//         end: 'bottom 5.5%',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// }, 0);\n\n// tl2.fromTo(\".frame__1\", {\n//         z: 500,\n//         duration: 1,\n//         opacity: undefined\n//     }, {\n//         z: 1000,\n//         duration: 1,\n//         opacity: undefined\n// },0);\n\n// tl2.fromTo(\".frame__2\", {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n//     }, {\n//         z: 500,\n//         duration: 3,\n//         opacity: 0\n// },0);\n\n// tl2.fromTo(\".frame__3\", {\n//         z: -500,\n//         duration: 1,\n//         opacity: 0\n//     }, {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n// },0);\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}