{"version":3,"sources":["js/main.js"],"names":["perspective","sectionDiference","$","each","i","sectionZvalue","toString","css","frames","document","querySelectorAll","framesLength","length","arrayFrames","Array","prototype","slice","call","console","log","triggers","originalZValues","opacityValues","gsap","registerPlugin","ScrollTrigger","currentTrigger","initialZvalues","finalZvalues","w","push","tl","timeline","scrollTrigger","trigger","start","end","scrub","toggleActions","markers","fontSize","j","initialValue","finalValue","initialOpacity","undefined","finalOpacity","fromTo","z","duration","opacity","startingTriggerTop","framesContainerHeight","height"],"mappings":";AACA,IAAIA,EAAc,QACdC,EAAmB,IACvBC,EAAE,YAAYC,KAAK,SAASC,GACpBC,IAAAA,IAAkBD,EAAIH,GAAkBK,WAAa,KACjD,GAALF,GACCF,EAAE,MAAMK,IAAI,YAAa,eAAgBP,EAAa,qBACtDE,EAAE,MAAMK,IAAI,UAAW,OAEvBL,EAAE,MAAMK,IAAI,YAAa,eAAgBP,EAAa,gBAAiBK,EAAc,KACrFH,EAAE,MAAMK,IAAI,UAAW,QAO/B,IAAIC,EAASC,SAASC,iBAAiB,YACnCC,EAAeH,EAAOI,OACtBC,EAAcC,MAAMC,UAAUC,MAAMC,KAAKT,GAE7CU,QAAQC,IAAI,eAAgBN,GAE5B,IAAIO,EAAW,CAAC,YAAa,YAAa,aACtCC,EAAkB,CAAC,GAAI,KAAM,KAC7BC,EAAgB,CAAC,EAAG,GAGxBC,KAAKC,eAAeC,eAGpB,IAAI,IAAIrB,EAAI,EAAGA,EAAIgB,EAASR,OAAQ,EAAGR,IAAI,CAKnC,IAJAsB,IAAAA,EAAiBN,EAAShB,GAC1BuB,EAAiB,GACjBC,EAAe,GAEXC,EAAE,EAAGA,EAAER,EAAgBT,OAAQiB,IACnCF,EAAeG,KAAMT,EAAgBQ,GAAM,IAAMzB,GAErDc,QAAQC,IAAI,mBAAoBQ,GAE5B,IAAIE,EAAE,EAAGA,EAAER,EAAgBT,OAAQiB,IACnCD,EAAaE,KAAMT,EAAgBQ,GAAM,KAAOzB,EAAI,IAExDc,QAAQC,IAAI,iBAAkBS,GAgB1B,IAdAG,IAAAA,EAAKR,KAAKS,SAAS,CACnBC,cAAe,CACXC,QAASR,EACTS,MAAO,aACPC,IAAK,YACLC,MAAO,EAEPC,cAAe,yBACfC,QAAS,CACLC,SAAU,WAKdC,EAAI,EAAGA,EAAIpB,EAAgBT,OAAQ6B,IAAI,CAEvCC,IAAAA,EAAef,EAAec,GAC9BE,EAAaf,EAAaa,GAE1BG,OAAiBC,EACjBC,OAAeD,EAEA,MAAfF,IACAC,EAAiB,EACjBE,EAAe,GAED,IAAfH,IACCC,EAAiB,EACjBE,EAAe,GAGnBf,EAAGgB,OAAOlC,EAAY4B,GAAI,CACtBO,EAAGN,EACHO,SAAU,EACVC,QAASN,GACV,CACCI,EAAGL,EACHM,SAAU,EACVC,QAASJ,GACV,GACH5B,QAAQC,IAAI,mBACZD,QAAQC,IAAI,QAASN,EAAY4B,IACjCvB,QAAQC,IAAI,kBAAmBuB,GAC/BxB,QAAQC,IAAI,iBAAkBwB,GAC9BzB,QAAQC,IAAI,UAAWO,GACvBR,QAAQC,IAAI,aAEhBD,QAAQC,IAAI,gCAOhB,IAAIgC,EAAqB,IACzBjD,EAAE,YAAYC,KAAK,SAASC,GAClB,GAAHA,EACCF,EAAE,MAAMK,IAAI,MAAO,OAEnBL,EAAE,MAAMK,IAAI,MAAQ4C,EAAsB/C,EAAO,QAMzD,IAAIgD,GAAyB,IAAMzC,GAAcL,WAAa,KAC9DJ,EAAE,UAAUmD,OAAOD","file":"main.aebb38c5.js","sourceRoot":"..","sourcesContent":["//SET PERSPECTIVE AND Z VALUE OF EACH SECTION\nvar perspective = '500px'\nvar sectionDiference = 500 \n$('.section').each(function(i) {\n    var sectionZvalue = (-i * sectionDiference).toString() + 'px' \n    if(i == 0){\n        $(this).css('transform', 'perspective('+ perspective +') translateZ(0px)');\n        $(this).css('opacity', '1');\n    }else{\n        $(this).css('transform', 'perspective('+ perspective +') translateZ('+ sectionZvalue+')');\n        $(this).css('opacity', '0');\n    }\n});\n\n\n\n//animation\nvar frames = document.querySelectorAll('.section');\nvar framesLength = frames.length\nvar arrayFrames = Array.prototype.slice.call(frames);\n\nconsole.log(\"array frames\", arrayFrames);\n\nvar triggers = [\".trigger1\", \".trigger2\", \".trigger3\"]\nvar originalZValues = [0, -500, -1000];\nvar opacityValues = [0, 1]\n\n\ngsap.registerPlugin(ScrollTrigger);\n\n\nfor(var i = 0; i < triggers.length -1; i++){\n    var currentTrigger = triggers[i];\n    var initialZvalues = []\n    var finalZvalues = []\n    //fill initial z values\n    for(var w=0; w<originalZValues.length; w++){\n        initialZvalues.push( originalZValues[w] + (500 * i ));\n    }\n    console.log(\"initial z values\", initialZvalues);\n    //fill final z values\n    for(var w=0; w<originalZValues.length; w++){\n        finalZvalues.push( originalZValues[w] + (500 * (i + 1)));\n    }\n    console.log(\"final z values\", finalZvalues);\n\n    var tl = gsap.timeline({\n        scrollTrigger: {\n            trigger: currentTrigger,\n            start: 'top 50.6px',\n            end: 'bottom 0%',\n            scrub: 2,\n            // onEnter onLeave onEnterBack onLeaveBack\n            toggleActions: \"play none reverse none\",\n            markers: {\n                fontSize: '2rem'\n            }\n        }\n    });\n\n    for(var j = 0; j < originalZValues.length; j++){\n\n        var initialValue = initialZvalues[j];\n        var finalValue = finalZvalues[j];\n\n        var initialOpacity = undefined; \n        var finalOpacity = undefined;\n\n        if (finalValue === 500){\n            initialOpacity = 1\n            finalOpacity = 0\n        }\n        if(finalValue === 0){\n            initialOpacity = 0\n            finalOpacity = 1\n        }\n    \n        tl.fromTo(arrayFrames[j], {\n            z: initialValue,\n            duration: 3,\n            opacity: initialOpacity\n        }, {\n            z: finalValue,\n            duration: 3,\n            opacity: finalOpacity\n        }, 0);\n        console.log(\"Creado asi ----\")\n        console.log(\"Frame\", arrayFrames[j]);\n        console.log(\"initial Z value\", initialValue)\n        console.log(\"final  Z value\", finalValue)\n        console.log(\"Trigger\", currentTrigger);\n        console.log(\"end -----\")        \n    }\n    console.log(\"NEXT TRIGGER ---------------\");\n}\n\n\n\n\n//TRIGGER HEIGHT DINAMICALLY\nvar startingTriggerTop = 100\n$('.trigger').each(function(i) {\n    if(i==0){\n        $(this).css('top', '0vh');\n    }else{\n        $(this).css('top', (startingTriggerTop * (i) ) + 'vh');\n    }\n});\n\n\n//Frames container height dinamically set depending on the amount of frames\nvar framesContainerHeight = (100 * framesLength).toString() + 'vh';\n$('.frame').height(framesContainerHeight);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//HARDCODED WORKING\n\n\n// gsap.registerPlugin(ScrollTrigger);\n\n// var tl = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \".trigger1\",\n//         start: 'top 5.5%',\n//         end: 'bottom 5.5%',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// }, 0);\n\n// tl.fromTo(\".frame__video\", {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n//     }, {\n//         z: 500,\n//         duration: 3,\n//         opacity: 0\n// },0);\n\n// tl.fromTo(\".frame__hokkaido\", {\n//         z: -500,\n//         duration: 1,\n//         opacity: 0\n//     }, {\n//         z: 0,\n//         duration: 3,\n//         opacity: 1\n// },0);\n\n// tl.fromTo(\".frame__osaka\", {\n//         z: -1000,\n//         duration: 1,\n//         opacity: undefined\n//     }, {\n//         z: -500,\n//         duration: 1,\n//         opacity: undefined\n// },0);\n\n// ///////////////////////////////////\n\n// var tl2 = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \".trigger2\",\n//         start: 'top 5.5%',\n//         end: 'bottom 5.5%',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// }, 0);\n\n// tl2.fromTo(\".frame__video\", {\n//         z: 500,\n//         duration: 1,\n//         opacity: undefined\n//     }, {\n//         z: 1000,\n//         duration: 1,\n//         opacity: undefined\n// },0);\n\n// tl2.fromTo(\".frame__hokkaido\", {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n//     }, {\n//         z: 500,\n//         duration: 3,\n//         opacity: 0\n// },0);\n\n// tl2.fromTo(\".frame__osaka\", {\n//         z: -500,\n//         duration: 1,\n//         opacity: 0\n//     }, {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n// },0);\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}