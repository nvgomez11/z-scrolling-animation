{"version":3,"sources":["js/main.js"],"names":["perspective","sectionDiference","$","each","i","sectionZvalue","toString","css","frames","document","querySelectorAll","framesLength","length","arrayFrames","Array","prototype","slice","call","console","log","triggers","originalZValues","opacityValues","gsap","registerPlugin","ScrollTrigger","currentTrigger","initialZvalues","finalZvalues","w","push","tl","timeline","scrollTrigger","trigger","start","end","scrub","toggleActions","markers","fontSize","j","initialValue","finalValue","initialOpacity","undefined","finalOpacity","fromTo","z","duration","opacity","x","t1","clear","progress","startingTriggerTop","attr","framesContainerHeight","height","st","create","pin"],"mappings":";AACA,IAAIA,EAAc,QACdC,EAAmB,IACvBC,EAAE,YAAYC,KAAK,SAASC,GACpBC,IAAAA,IAAkBD,EAAIH,GAAkBK,WAAa,KACjD,GAALF,GACCF,EAAE,MAAMK,IAAI,YAAa,eAAgBP,EAAa,qBACtDE,EAAE,MAAMK,IAAI,UAAW,OAEvBL,EAAE,MAAMK,IAAI,YAAa,eAAgBP,EAAa,gBAAiBK,EAAc,KACrFH,EAAE,MAAMK,IAAI,UAAW,QAO/B,IAAIC,EAASC,SAASC,iBAAiB,YACnCC,EAAeH,EAAOI,OACtBC,EAAcC,MAAMC,UAAUC,MAAMC,KAAKT,GAE7CU,QAAQC,IAAI,eAAgBN,GAE5B,IAAIO,EAAW,CAAC,YAAa,YAAa,YAAa,YACnDC,EAAkB,CAAC,GAAI,KAAM,KAAO,MACpCC,EAAgB,CAAC,EAAG,GAGxBC,KAAKC,eAAeC,eAGpB,IAAI,IAAIrB,EAAI,EAAGA,EAAIgB,EAASR,OAAQ,EAAGR,IAAI,CAKnC,IAJAsB,IAAAA,EAAiBN,EAAShB,GAC1BuB,EAAiB,GACjBC,EAAe,GAEXC,EAAE,EAAGA,EAAER,EAAgBT,OAAQiB,IACnCF,EAAeG,KAAMT,EAAgBQ,GAAM,IAAMzB,GAErDc,QAAQC,IAAI,mBAAoBQ,GAE5B,IAAIE,EAAE,EAAGA,EAAER,EAAgBT,OAAQiB,IACnCD,EAAaE,KAAMT,EAAgBQ,GAAM,KAAOzB,EAAI,IAExDc,QAAQC,IAAI,iBAAkBS,GAgB1B,IAdAG,IAAAA,EAAKR,KAAKS,SAAS,CACnBC,cAAe,CACXC,QAASR,EACTS,MAAO,WACPC,IAAK,aACLC,MAAO,EAEPC,cAAe,yBACfC,QAAS,CACLC,SAAU,WAKdC,EAAI,EAAGA,EAAIpB,EAAgBT,OAAQ6B,IAAI,CAEvCC,IAAAA,EAAef,EAAec,GAC9BE,EAAaf,EAAaa,GAE1BG,OAAiBC,EACjBC,OAAeD,EAEA,MAAfF,IACAC,EAAiB,EACjBE,EAAe,GAED,IAAfH,IACCC,EAAiB,EACjBE,EAAe,GAGnBf,EAAGgB,OAAOlC,EAAY4B,GAAI,CACtBO,EAAGN,EAEHO,SAAU,EACVC,QAASN,GACV,CACCI,EAAGL,EAEHQ,EAAG,EACHF,SAAU,EACVC,QAASJ,GACV,GACH5B,QAAQC,IAAI,mBACZD,QAAQC,IAAI,QAASN,EAAY4B,IACjCvB,QAAQC,IAAI,kBAAmBuB,GAC/BxB,QAAQC,IAAI,iBAAkBwB,GAC9BzB,QAAQC,IAAI,mBAAoByB,GAChC1B,QAAQC,IAAI,iBAAkB2B,GAC9B5B,QAAQC,IAAI,UAAWO,GACvBR,QAAQC,IAAI,aAEhBiC,GAAGC,QACHnC,QAAQC,IAAIY,EAAGuB,YACfpC,QAAQC,IAAI,gCAQhB,IAAIoC,EAAqB,IACzBrD,EAAE,YAAYC,KAAK,SAASC,GAClB,GAAHA,EACCF,EAAE,MAAMK,IAAI,MAAO,OAEnBL,EAAE,MAAMK,IAAI,MAAQgD,EAAsBnD,EAAO,QAMzDF,EAAE,YAAYC,KAAK,SAASC,GACxBF,EAAE,MAAMsD,KAAK,KAAM,UAAWpD,EAAEE,cAKpCJ,EAAE,cAAcC,KAAK,SAASC,GAC1BF,EAAE,MAAMsD,KAAK,OAAQ,WAAYpD,EAAEE,cAKvC,IAAImD,GAAyB,IAAM9C,GAAcL,WAAa,KAC9DJ,EAAE,UAAUwD,OAAOD,GAKnB,IAAIE,EAAKlC,cAAcmC,OAAO,CAC1B1B,QAAS,eACT2B,IAAK,SACL1B,MAAO,SACPC,IAAK","file":"main.d4f0b203.js","sourceRoot":"..","sourcesContent":["//SET PERSPECTIVE AND Z VALUE OF EACH SECTION\nvar perspective = '500px'\nvar sectionDiference = 500 \n$('.section').each(function(i) {\n    var sectionZvalue = (-i * sectionDiference).toString() + 'px' \n    if(i == 0){\n        $(this).css('transform', 'perspective('+ perspective +') translateZ(0px)');\n        $(this).css('opacity', '1');\n    }else{\n        $(this).css('transform', 'perspective('+ perspective +') translateZ('+ sectionZvalue+')');\n        $(this).css('opacity', '0');\n    }\n});\n\n\n\n//animation\nvar frames = document.querySelectorAll('.section');\nvar framesLength = frames.length\nvar arrayFrames = Array.prototype.slice.call(frames);\n\nconsole.log(\"array frames\", arrayFrames);\n\nvar triggers = [\".trigger1\", \".trigger2\", \".trigger3\", \"trigger4\"]\nvar originalZValues = [0, -500, -1000, -1500];\nvar opacityValues = [0, 1]\n\n\ngsap.registerPlugin(ScrollTrigger);\n\n\nfor(var i = 0; i < triggers.length -1; i++){\n    var currentTrigger = triggers[i];\n    var initialZvalues = []\n    var finalZvalues = []\n    //fill initial z values\n    for(var w=0; w<originalZValues.length; w++){\n        initialZvalues.push( originalZValues[w] + (500 * i ));\n    }\n    console.log(\"initial z values\", initialZvalues);\n    //fill final z values\n    for(var w=0; w<originalZValues.length; w++){\n        finalZvalues.push( originalZValues[w] + (500 * (i + 1)));\n    }\n    console.log(\"final z values\", finalZvalues);\n\n    var tl = gsap.timeline({\n        scrollTrigger: {\n            trigger: currentTrigger,\n            start: 'top 10px',\n            end: 'bottom 0px',\n            scrub: 2,\n            // onEnter onLeave onEnterBack onLeaveBack\n            toggleActions: \"play none reverse none\",\n            markers: {\n                fontSize: '2rem'\n            }\n        }\n    });\n\n    for(var j = 0; j < originalZValues.length; j++){\n\n        var initialValue = initialZvalues[j];\n        var finalValue = finalZvalues[j];\n\n        var initialOpacity = undefined; \n        var finalOpacity = undefined;\n\n        if (finalValue === 500){\n            initialOpacity = 1\n            finalOpacity = 0\n        }\n        if(finalValue === 0){\n            initialOpacity = 0\n            finalOpacity = 1\n        }\n    \n        tl.fromTo(arrayFrames[j], {\n            z: initialValue,\n            //transform: 'translate3d(40%, 50%, '+initialValue+'px)',\n            duration: 3,\n            opacity: initialOpacity\n        }, {\n            z: finalValue,\n            //transform: 'translate3d(40%, 50%, '+finalValue+'px)',\n            x: 0,\n            duration: 3,\n            opacity: finalOpacity\n        }, 0);\n        console.log(\"Creado asi ----\")\n        console.log(\"Frame\", arrayFrames[j]);\n        console.log(\"initial Z value\", initialValue)\n        console.log(\"final  Z value\", finalValue)\n        console.log(\"opacidad inicial\", initialOpacity);\n        console.log(\"opacidad final\", finalOpacity);\n        console.log(\"Trigger\", currentTrigger);\n        console.log(\"end -----\")        \n    }\n    t1.clear();\n    console.log(tl.progress());\n    console.log(\"NEXT TRIGGER ---------------\");\n}\n\n\n\n\n\n//TRIGGER HEIGHT DINAMICALLY\nvar startingTriggerTop = 100\n$('.trigger').each(function(i) {\n    if(i==0){\n        $(this).css('top', '0vh');\n    }else{\n        $(this).css('top', (startingTriggerTop * (i) ) + 'vh');\n    }\n});\n\n\n//SET TRIGGER ID DINAMICALLY\n$('.trigger').each(function(i) {\n    $(this).attr('id', 'trigger'+(i.toString()));\n});\n\n\n//SET INDICATOR HREF DINAMICALLY\n$('.indicator').each(function(i) {\n    $(this).attr('href', '#trigger'+(i.toString()));\n});\n\n\n//Frames container height dinamically set depending on the amount of frames\nvar framesContainerHeight = (100 * framesLength).toString() + 'vh';\n$('.frame').height(framesContainerHeight);\n\n\n\n\nlet st = ScrollTrigger.create({\n    trigger: \".trigger-pin\",\n    pin: \".frame\",\n    start: \"top 1%\",\n    end: \"bottom 100%\"\n});\n\n// let st1 = ScrollTrigger.create({\n//     trigger: \".trigger-pin\",\n//     pin: \".frame2\",\n//     start: \"top 1%\",\n//     end: \"bottom 100%\"\n// });\n\n// console.log(st.pin);\n\n\n\n\n\n\n\n\n\n//HARDCODED WORKING\n// gsap.registerPlugin(ScrollTrigger);\n\n// var tl = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \".trigger1\",\n//         start: 'top 5.5%',\n//         end: 'bottom 5.5%',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// }, 0);\n\n// tl.fromTo(\".frame__1\", {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n//     }, {\n//         z: 500,\n//         duration: 3,\n//         opacity: 0\n// },0);\n\n// tl.fromTo(\".frame__2\", {\n//         z: -500,\n//         duration: 1,\n//         opacity: 0\n//     }, {\n//         z: 0,\n//         duration: 3,\n//         opacity: 1\n// },0);\n\n// tl.fromTo(\".frame__3\", {\n//         z: -1000,\n//         duration: 1,\n//         opacity: undefined\n//     }, {\n//         z: -500,\n//         duration: 1,\n//         opacity: undefined\n// },0);\n\n// ///////////////////////////////////\n\n// var tl2 = gsap.timeline({\n//     scrollTrigger: {\n//         trigger: \".trigger2\",\n//         start: 'top 5.5%',\n//         end: 'bottom 5.5%',\n//         scrub: 2,\n//         // onEnter onLeave onEnterBack onLeaveBack\n//         toggleActions: \"play none reverse none\",\n//         markers: {\n//             fontSize: '2rem'\n//         }\n//     }\n// }, 0);\n\n// tl2.fromTo(\".frame__1\", {\n//         z: 500,\n//         duration: 1,\n//         opacity: undefined\n//     }, {\n//         z: 1000,\n//         duration: 1,\n//         opacity: undefined\n// },0);\n\n// tl2.fromTo(\".frame__2\", {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n//     }, {\n//         z: 500,\n//         duration: 3,\n//         opacity: 0\n// },0);\n\n// tl2.fromTo(\".frame__3\", {\n//         z: -500,\n//         duration: 1,\n//         opacity: 0\n//     }, {\n//         z: 0,\n//         duration: 1,\n//         opacity: 1\n// },0);\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}